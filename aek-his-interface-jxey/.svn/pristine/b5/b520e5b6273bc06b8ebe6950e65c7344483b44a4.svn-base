<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<!--
HIS职工人员视图操作相关SQL Mapper
@author Lanpz
@date 2016-08-02
@source Generated by MySQL2Java
-->

<!-- 此命名空间必须和对应Mapper.java文件的命名空间一致 -->
<mapper namespace="com.aek.persistence.mysql.mapper.MHisUserInfoMapper">

    <!-- HIS职工人员视图栏位列表 -->
    <resultMap id="rm" type="com.aek.persistence.oracle.beans.HisUserInfo">
        <result property="myId" jdbcType="INTEGER" column="my_id"/>
        <result property="userNo" jdbcType="VARCHAR" column="user_no" />
        <result property="userName" jdbcType="VARCHAR" column="user_name" />
        <result property="userNamePy" jdbcType="VARCHAR" column="user_name_py" />
        <result property="userNameWb" jdbcType="VARCHAR" column="user_name_wb" />
        <result property="userSex" jdbcType="INTEGER" column="user_sex" />
        <result property="userDeptNo" jdbcType="VARCHAR" column="user_dept_no" />
        <result property="delFlag" jdbcType="INTEGER" column="del_flag" />
    </resultMap>

    <!-- 获取HIS职工人员视图 -->
    <select id="getAll" resultMap="rm" parameterType="com.aek.persistence.oracle.beans.HisUserInfo">
        SELECT *
          FROM bd_hpl_his_user_info
         WHERE user_no IN
         <foreach collection="list" item="item" separator="," open="(" close=")">
         #{item.userNo}
         </foreach>
    </select>

    <!-- 添加HIS职工人员视图 -->
    <insert id="addList" parameterType="java.util.List">
        INSERT INTO bd_hpl_his_user_info(user_no,user_name,user_name_py,user_name_wb,user_sex,user_dept_no,del_flag)
        VALUES 
        <foreach collection="list" item="item" separator=",">
        (#{item.userNo},#{item.userName},#{item.userNamePy},
        #{item.userNameWb},#{item.userSex},#{item.userDeptNo},#{item.delFlag})
        </foreach>
    </insert>

    <!-- 修改HIS职工人员视图 -->
    <update id="updateList" parameterType="java.util.List">
        <foreach collection="list" item="item" separator=";">
        UPDATE bd_hpl_his_user_info
           SET user_name=#{item.userName},
               user_name_py=#{item.userNamePy},
               user_name_wb=#{item.userNameWb},
               user_sex=#{item.userSex},
               user_dept_no=#{item.userDeptNo},
               del_flag=#{item.delFlag}
         WHERE user_no = #{item.userNo}
        </foreach>
    </update>

</mapper>

<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<!--
科室信息视图操作相关SQL Mapper
@author Lanpz
@date 2016-08-02
@source Generated by MySQL2Java
-->

<!-- 此命名空间必须和对应Mapper.java文件的命名空间一致 -->
<mapper namespace="com.aek.persistence.mysql.mapper.MHisDeptInfoMapper">

    <!-- 科室信息视图栏位列表 -->
    <resultMap id="rm" type="com.aek.persistence.oracle.beans.HisDeptInfo">
        <result property="myId" jdbcType="INTEGER" column="my_id"/>
        <result property="deptTypeId" jdbcType="INTEGER" column="dept_type_id" />
        <result property="deptTypeName" jdbcType="VARCHAR" column="dept_type_name" />
        <result property="deptNo" jdbcType="VARCHAR" column="dept_no" />
        <result property="deptName" jdbcType="VARCHAR" column="dept_name" />
        <result property="deptNamePy" jdbcType="VARCHAR" column="dept_name_py" />
        <result property="deptNameWb" jdbcType="VARCHAR" column="dept_name_wb" />
        <result property="deptParentNo" jdbcType="VARCHAR" column="dept_parent_no" />
        <result property="deptLevel" jdbcType="INTEGER" column="dept_level" />
        <result property="delFlag" jdbcType="INTEGER" column="del_flag" />
    </resultMap>

    <!-- 获取科室信息视图 -->
    <select id="getAll" resultMap="rm" parameterType="java.util.List">
        SELECT *
          FROM bd_hpl_his_dept_info WHERE dept_no in
          <foreach collection="list" item="item" separator="," open="(" close=")">
          #{item.deptNo}
          </foreach>
    </select>

    <!-- 添加科室信息视图 -->
    <insert id="addList" parameterType="java.util.List">
        INSERT INTO bd_hpl_his_dept_info(dept_type_id,dept_type_name,dept_no,dept_name,dept_name_py,dept_name_wb,dept_parent_no,dept_level,del_flag)
        VALUES 
        <foreach collection="list" separator="," item="item">
            (#{item.deptTypeId},#{item.deptTypeName},#{item.deptNo},#{item.deptName},#{item.deptNamePy},#{item.deptNameWb},#{item.deptParentNo},#{item.deptLevel},#{item.delFlag})
        </foreach>
    </insert>

    <!-- 批量修改 -->
    <insert id="updateList" parameterType="java.util.List">
        <foreach collection="list" separator=";" item="item">
        UPDATE bd_hpl_his_dept_info
           SET dept_type_name=#{item.deptTypeName},
               dept_no=#{item.deptNo},
               dept_name=#{item.deptName},
               dept_name_py=#{item.deptNamePy},
               dept_name_wb=#{item.deptNameWb},
               dept_parent_no=#{item.deptParentNo},
               dept_level=#{item.deptLevel},
               del_flag=#{item.delFlag}
         WHERE dept_no = #{item.deptNo}
         </foreach>
    </insert>
</mapper>

<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<!--
物资基础数据。操作相关SQL Mapper
@author Lanpz
@date 2016-12-15
@source Generated by MySQL2Java
-->

<!-- 此命名空间必须和对应Mapper.java文件的命名空间一致 -->
<mapper namespace="com.aek.persistence.oracle.mapper.OHplGoodsesMapper">

    <!-- 物资基础数据。栏位列表 -->
    <resultMap id="rm" type="com.aek.persistence.oracle.beans.BdHplGoodses">
        <result property="areaId" jdbcType="INTEGER" column="area_id" />
        <result property="sysId" jdbcType="BIGINT" column="sys_id" />
        <result property="classId" jdbcType="BIGINT" column="class_id" />
        <result property="className" jdbcType="VARCHAR" column="class_name" />
        <result property="goodsId" jdbcType="BIGINT" column="goods_id" />
        <result property="typeId" jdbcType="VARCHAR" column="type_id" />
        <result property="typeName" jdbcType="VARCHAR" column="type_name" />
        <result property="goodsGuid" jdbcType="VARCHAR" column="goods_guid" />
        <result property="goodsType" jdbcType="INTEGER" column="goods_type" />
        <result property="goodsNo" jdbcType="VARCHAR" column="goods_no" />
        <result property="goodsName" jdbcType="VARCHAR" column="goods_name" />
        <result property="goodsNamePy" jdbcType="VARCHAR" column="goods_name_py" />
        <result property="goodsNameWb" jdbcType="VARCHAR" column="goods_name_wb" />
        <result property="goodsAccountTypeId" jdbcType="BIGINT" column="goods_account_type_id" />
        <result property="goodsAccountName" jdbcType="VARCHAR" column="goods_account_name" />
        <result property="goodsCalcTypeId" jdbcType="BIGINT" column="goods_calc_type_id" />
        <result property="goodsCalcName" jdbcType="VARCHAR" column="goods_calc_name" />
        <result property="goodsStandardTypeId" jdbcType="VARCHAR" column="goods_standard_type_id" />
        <result property="goodsStandardName" jdbcType="VARCHAR" column="goods_standard_name" />
        <result property="goodsManagementFlag" jdbcType="VARCHAR" column="goods_management_flag" />
        <result property="facId" jdbcType="BIGINT" column="fac_id" />
        <result property="facName" jdbcType="VARCHAR" column="fac_name"/>
        <result property="factoryAddr" jdbcType="VARCHAR" column="factory_addr" />
        <result property="brandId" jdbcType="BIGINT" column="brand_id" />
        <result property="brandName" jdbcType="VARCHAR" column="brand_name"/>
        <result property="regId" jdbcType="BIGINT" column="reg_id" />
        <result property="regNo" jdbcType="VARCHAR" column="reg_no"/>
        <result property="goodsMaterialId" jdbcType="BIGINT" column="goods_material_id" />
        <result property="goodsMaterialName" jdbcType="VARCHAR" column="goods_material_name" />
        <result property="goodsSterilizeId" jdbcType="BIGINT" column="goods_sterilize_id" />
        <result property="goodsSterilizeName" jdbcType="VARCHAR" column="goods_sterilize_name" />
        <result property="medicareFlag" jdbcType="INTEGER" column="medicare_flag" />
        <result property="repeatFlag" jdbcType="INTEGER" column="repeat_flag" />
        <result property="sourceFlag" jdbcType="INTEGER" column="source_flag" />
        <result property="addBy" jdbcType="BIGINT" column="add_by" />
        <result property="addName" jdbcType="VARCHAR" column="add_name" />
        <result property="addTime" jdbcType="VARCHAR" column="add_time_format" />
        <result property="lastEditBy" jdbcType="BIGINT" column="last_edit_by" />
        <result property="lastEditName" jdbcType="VARCHAR" column="last_edit_name" />
        <result property="lastEditTime" jdbcType="VARCHAR" column="last_time_format" />
        <result property="delFlag" jdbcType="INTEGER" column="del_flag" />
    </resultMap>
    <select id="getCount" resultType="int">
        SELECT count(*) 
          FROM bd_hpl_goodses
    </select>

    <select id="getGoodsList" resultMap="rm" parameterType="java.util.List">
        SELECT * 
          FROM bd_hpl_goodses
         WHERE goods_id IN
        <foreach collection="list" item="item" separator="," open="(" close=")">
            #{item.goodsId}
        </foreach>
    </select>
    
    <insert id="insertList" parameterType="java.util.List">
        INSERT INTO bd_hpl_goodses(area_id,sys_id,class_id,class_name,goods_id,type_id, type_name,goods_guid,goods_type,goods_no,goods_name,goods_name_py,goods_name_wb,goods_account_type_id,goods_account_name,goods_calc_type_id,goods_calc_name,goods_standard_type_id,goods_standard_name,goods_management_flag,fac_id,fac_name,factory_addr,brand_id,brand_name,reg_id,reg_no,goods_material_id,goods_material_name,goods_sterilize_id,goods_sterilize_name,medicare_flag,repeat_flag,source_flag,add_by,add_name,add_time,last_edit_by,last_edit_name,last_edit_time,del_flag)
        <foreach collection="list" item="item" separator=" union all ">
        SELECT #{item.areaId, jdbcType=INTEGER},
               #{item.sysId, jdbcType=BIGINT},
               #{item.classId, jdbcType=BIGINT},
               #{item.className, jdbcType=VARCHAR},
               #{item.goodsId, jdbcType=BIGINT},
               #{item.typeId, jdbcType=BIGINT},
               #{item.typeName,jdbcType=VARCHAR},
               #{item.goodsGuid, jdbcType=VARCHAR},
               #{item.goodsType, jdbcType=INTEGER},
               #{item.goodsNo, jdbcType=VARCHAR},
               #{item.goodsName, jdbcType=VARCHAR},
               #{item.goodsNamePy, jdbcType=VARCHAR},
               #{item.goodsNameWb, jdbcType=VARCHAR},
               #{item.goodsAccountTypeId, jdbcType=BIGINT},
               #{item.goodsAccountName, jdbcType=VARCHAR},
               #{item.goodsCalcTypeId, jdbcType=BIGINT},
               #{item.goodsCalcName, jdbcType=VARCHAR},
               #{item.goodsStandardTypeId, jdbcType=BIGINT},
               #{item.goodsStandardName, jdbcType=VARCHAR},
               #{item.goodsManagementFlag, jdbcType=INTEGER},
               #{item.facId, jdbcType=BIGINT},
               #{item.facName, jdbcType=VARCHAR},
               #{item.factoryAddr, jdbcType=VARCHAR},
               #{item.brandId, jdbcType=BIGINT},
               #{item.brandName, jdbcType=VARCHAR},
               #{item.regId, jdbcType=BIGINT},
               #{item.regNo, jdbcType=VARCHAR},
               #{item.goodsMaterialId, jdbcType=BIGINT},
               #{item.goodsMaterialName, jdbcType=VARCHAR},
               #{item.goodsSterilizeId, jdbcType=BIGINT},
               #{item.goodsSterilizeName, jdbcType=VARCHAR},
               #{item.medicareFlag, jdbcType=INTEGER},
               #{item.repeatFlag, jdbcType=INTEGER},
               #{item.sourceFlag, jdbcType=INTEGER},
               #{item.addBy, jdbcType=BIGINT},
               #{item.addName, jdbcType=VARCHAR},
               to_date(#{item.addTime, jdbcType=VARCHAR},'yyyy-MM-dd HH24:MI:SS'),
               #{item.lastEditBy, jdbcType=BIGINT},
               #{item.lastEditName, jdbcType=VARCHAR},
               to_date(#{item.lastEditTime, jdbcType=VARCHAR},'yyyy-MM-dd HH24:MI:SS'),
               #{item.delFlag, jdbcType=INTEGER}
          FROM dual
        </foreach>
    </insert>
    
    <!-- 修改物资基础数据。 -->
    <update id="updateList" parameterType="java.util.List">
        <foreach collection="list" item="item" separator=";" open="BEGIN " close=";END;">
        UPDATE bd_hpl_goodses
           SET class_id=#{item.classId, jdbcType=BIGINT},
               class_name=#{item.className, jdbcType=VARCHAR},
               type_id=#{item.typeId, jdbcType=BIGINT},
               type_name=#{item.typeName, jdbcType=VARCHAR},
               goods_guid=#{item.goodsGuid, jdbcType=VARCHAR},
               goods_type=#{item.goodsType, jdbcType=INTEGER},
               goods_no=#{item.goodsNo, jdbcType=VARCHAR},
               goods_name=#{item.goodsName, jdbcType=VARCHAR},
               goods_name_py=#{item.goodsNamePy, jdbcType=VARCHAR},
               goods_name_wb=#{item.goodsNameWb, jdbcType=VARCHAR},
               goods_account_type_id=#{item.goodsAccountTypeId, jdbcType=BIGINT},
               goods_account_name=#{item.goodsAccountName, jdbcType=VARCHAR},
               goods_calc_type_id=#{item.goodsCalcTypeId, jdbcType=BIGINT},
               goods_calc_name=#{item.goodsCalcName, jdbcType=VARCHAR},
               goods_standard_type_id=#{item.goodsStandardTypeId, jdbcType=BIGINT},
               goods_standard_name=#{item.goodsStandardName, jdbcType=VARCHAR},
               goods_management_flag=#{item.goodsManagementFlag, jdbcType=INTEGER},
               fac_id=#{item.facId, jdbcType=BIGINT},
               fac_name=#{item.facName, jdbcType=VARCHAR},
               factory_addr=#{item.factoryAddr, jdbcType=VARCHAR},
               brand_id=#{item.brandId, jdbcType=BIGINT},
               brand_name=#{item.brandName, jdbcType=VARCHAR},
               reg_id=#{item.regId, jdbcType=BIGINT},
               reg_no=#{item.regNo, jdbcType=VARCHAR},
               goods_material_id=#{item.goodsMaterialId, jdbcType=BIGINT},
               goods_material_name=#{item.goodsMaterialName, jdbcType=VARCHAR},
               goods_sterilize_id=#{item.goodsSterilizeId, jdbcType=BIGINT},
               goods_sterilize_name=#{item.goodsSterilizeName, jdbcType=VARCHAR},
               medicare_flag=#{item.medicareFlag, jdbcType=INTEGER},
               repeat_flag=#{item.repeatFlag, jdbcType=INTEGER},
               source_flag=#{item.sourceFlag, jdbcType=INTEGER},
               last_edit_by=#{item.lastEditBy, jdbcType=BIGINT},
               last_edit_name=#{item.lastEditName, jdbcType=VARCHAR},
               last_edit_time=to_date(#{item.lastEditTime, jdbcType=VARCHAR},'yyyy-MM-dd HH24:MI:SS'),
               del_flag=#{item.delFlag, jdbcType=INTEGER}
         WHERE goods_id=#{item.goodsId, jdbcType=BIGINT}
           AND sys_id = #{item.sysId}
           AND area_id = #{item.areaId}
        </foreach>
    </update>

</mapper>

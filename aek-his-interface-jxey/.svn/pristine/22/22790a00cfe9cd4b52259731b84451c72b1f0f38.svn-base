<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<!--
HIS职工人员视图操作相关SQL Mapper
@author Lanpz
@date 2016-08-02
@source Generated by MySQL2Java
-->

<!-- 此命名空间必须和对应Mapper.java文件的命名空间一致 -->
<mapper namespace="com.aek.persistence.sqlserver.mapper.SHisUserInfoMapper">

    <!-- HIS职工人员视图栏位列表 -->
    <resultMap id="rm" type="com.aek.persistence.oracle.beans.HisUserInfo">
        <result property="userNo" jdbcType="VARCHAR" column="user_no" />
        <result property="userName" jdbcType="VARCHAR" column="user_name" />
        <result property="userNamePy" jdbcType="VARCHAR" column="user_name_py" />
        <result property="userNameWb" jdbcType="VARCHAR" column="user_name_wb" />
        <result property="userSex" jdbcType="INTEGER" column="user_sex" />
        <result property="userDeptNo" jdbcType="VARCHAR" column="user_dept_no" />
        <result property="delFlag" jdbcType="INTEGER" column="del_flag" />
    </resultMap>

    <!-- 获取HIS职工人员视图 -->
    <select id="getAll" resultMap="rm" parameterType="map">
        <![CDATA[
        SELECT *
          FROM 
             (
               SELECT row_number() over(order by user_no) as rownumber,* from his_user_info
             ) A
         WHERE rownumber between #{begin} and #{end}
        ]]>
    </select>

</mapper>

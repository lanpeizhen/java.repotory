<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<!--
医疗收费代码视图操作相关SQL Mapper
@author Lanpz
@date 2016-08-02
@source Generated by MySQL2Java
-->

<!-- 此命名空间必须和对应Mapper.java文件的命名空间一致 -->
<mapper namespace="com.aek.persistence.mysql.mapper.MHisFeeInfoMapper">

    <!-- 医疗收费代码视图栏位列表 -->
    <resultMap id="rm" type="com.aek.persistence.oracle.beans.HisFeeInfo">
        <result property="myId" jdbcType="INTEGER" column="my_id"/>
        <result property="feeNo" jdbcType="VARCHAR" column="fee_no" />
        <result property="feeName" jdbcType="VARCHAR" column="fee_name" />
        <result property="feeNamePy" jdbcType="VARCHAR" column="fee_name_py" />
        <result property="feeNameWb" jdbcType="VARCHAR" column="fee_name_wb" />
        <result property="unitPrice" jdbcType="DOUBLE" column="unit_price" />
        <result property="feeUnit" jdbcType="VARCHAR" column="fee_unit" />
        <result property="feeType" jdbcType="INTEGER" column="fee_type" />
    </resultMap>

    <!-- 获取医疗收费代码视图 -->
    <select id="getAll" resultMap="rm" parameterType="java.util.List">
        SELECT *
          FROM bd_hpl_his_fee_info
         WHERE fee_no IN
          <foreach collection="list" item="item" separator="," open="(" close=")">
          #{item.feeNo}
          </foreach>
    </select>

    <!-- 添加医疗收费代码视图 -->
    <insert id="addList" parameterType="java.util.List">
        INSERT INTO bd_hpl_his_fee_info(fee_no,fee_name,fee_name_py,fee_name_wb,unit_price,fee_unit,fee_type)
        VALUES 
        <foreach collection="list" item="item" separator=",">
        (#{item.feeNo},#{item.feeName},#{item.feeNamePy},#{item.feeNameWb},
        #{item.unitPrice},#{item.feeUnit},#{item.feeType})
        </foreach>
    </insert>

    <!-- 修改医疗收费代码视图 -->
    <update id="updateList" parameterType="java.util.List">
        <foreach collection="list" item="item" separator=";">
        UPDATE bd_hpl_his_fee_info
           SET fee_name=#{item.feeName},
               fee_name_py=#{item.feeNamePy},
               fee_name_wb=#{item.feeNameWb},
               unit_price=#{item.unitPrice},
               fee_unit=#{item.feeUnit},
               fee_type=#{item.feeType}
         WHERE fee_no = #{item.feeNo}
        </foreach>
    </update>

</mapper>
